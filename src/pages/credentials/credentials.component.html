<div class="max-w-4xl mx-auto">
  <h1 class="text-4xl font-bold tracking-tight text-white sm:text-5xl text-center mb-8">Credentials</h1>

  <!-- Tabs Navigation -->
  <div class="mb-8 flex justify-center border-b border-gray-700">
    <button (click)="changeTab('certifications')"
            [class.border-blue-500]="activeTab() === 'certifications'"
            [class.text-white]="activeTab() === 'certifications'"
            [class.border-transparent]="activeTab() !== 'certifications'"
            [class.text-gray-400]="activeTab() !== 'certifications'"
            class="py-4 px-6 block hover:text-white focus:outline-none border-b-2 font-medium transition-colors">
      Trainings & Certifications
    </button>
    <button (click)="changeTab('skills')"
            [class.border-blue-500]="activeTab() === 'skills'"
            [class.text-white]="activeTab() === 'skills'"
            [class.border-transparent]="activeTab() !== 'skills'"
            [class.text-gray-400]="activeTab() !== 'skills'"
            class="py-4 px-6 block hover:text-white focus:outline-none border-b-2 font-medium transition-colors">
      Skills
    </button>
    <button (click)="changeTab('badges')"
            [class.border-blue-500]="activeTab() === 'badges'"
            [class.text-white]="activeTab() === 'badges'"
            [class.border-transparent]="activeTab() !== 'badges'"
            [class.text-gray-400]="activeTab() !== 'badges'"
            class="py-4 px-6 block hover:text-white focus:outline-none border-b-2 font-medium transition-colors">
      Badges
    </button>
  </div>

  <!-- Tab Content -->
  <div class="min-h-[400px]">
    @switch (activeTab()) {
      @case ('certifications') {
        <section>
          <div class="space-y-6">
            @for (cert of certifications; track cert.name) {
              <div class="group p-6 bg-gray-800/50 rounded-2xl border border-gray-700 transition-all duration-300 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-900/20">
                <div class="flex justify-between items-start">
                  <div>
                    <h3 class="text-lg font-semibold text-white">{{ cert.name }}</h3>
                    <p class="text-sm text-gray-400">{{ cert.issuer }}</p>
                  </div>
                  <span class="text-sm font-mono text-gray-500 flex-shrink-0 ml-4">{{ cert.date }}</span>
                </div>
                <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 transition-all duration-500 ease-in-out mt-0 group-hover:mt-4">
                  <p class="text-gray-300 text-sm">{{ cert.description }}</p>
                  <a [href]="cert.verificationLink" target="_blank" class="text-blue-400 hover:text-blue-300 text-sm mt-2 inline-block">
                    Verify Credential &rarr;
                  </a>
                </div>
              </div>
            }
          </div>
        </section>
      }
      @case ('skills') {
        <section>
           <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4">
            @for (skill of skillsWithIcons(); track skill.name) {
              <div class="aspect-square flex flex-col items-center justify-center p-4 bg-gray-800/50 rounded-2xl border border-gray-700 transition-all duration-300 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-900/20 transform hover:-translate-y-1">
                <img [src]="skill.iconUrl" [alt]="skill.name + ' logo'" class="w-1/2 h-1/2 object-contain">
                <p class="mt-2 text-sm font-semibold text-center text-gray-300">{{ skill.name }}</p>
              </div>
            }
          </div>
          @if (skillsWithoutIcons().length > 0) {
            <div class="mt-8">
              <h3 class="text-xl font-semibold text-white mb-4">Other Skills</h3>
              <div class="flex flex-wrap gap-3">
                @for (skill of skillsWithoutIcons(); track skill.name) {
                  <span class="px-4 py-2 bg-blue-900/50 text-blue-300 rounded-full text-sm font-medium border border-blue-800">{{ skill.name }}</span>
                }
              </div>
            </div>
          }
        </section>
      }
      @case ('badges') {
        <section>
          <div class="grid grid-cols-2 sm:grid-cols-3 gap-6">
            @for (badge of badges; track badge.name) {
              <div class="aspect-square [perspective:1000px] cursor-pointer" (click)="toggleFlip(badge.name)">
                <div class="relative w-full h-full transition-transform duration-700 transform-preserve-3d" [class.rotate-y-180]="flippedBadge() === badge.name">
                  <!-- Front -->
                  <div class="absolute w-full h-full backface-hidden bg-gray-800/50 rounded-2xl border border-gray-700 flex flex-col items-center justify-center p-4 text-center">
                    <img [src]="badge.imageUrl" [alt]="badge.name" class="w-24 h-24 mx-auto rounded-full object-cover mb-4">
                    <h3 class="text-sm font-semibold text-white">{{ badge.name }}</h3>
                  </div>
                  <!-- Back -->
                  <div class="absolute w-full h-full backface-hidden rotate-y-180 bg-blue-900/50 rounded-2xl border border-blue-700 flex flex-col items-center justify-center p-4 text-center">
                    <p class="text-sm text-blue-200">{{ badge.description }}</p>
                     <a [href]="badge.link" target="_blank" (click)="$event.stopPropagation()" class="mt-4 text-xs font-bold text-white bg-white/10 hover:bg-white/20 px-3 py-1 rounded-full">Verify</a>
                  </div>
                </div>
              </div>
            }
          </div>
        </section>
      }
    }
  </div>

  <!-- CV Download -->
  <section class="mt-12 text-center">
    <a href="#" target="_blank" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-2xl transition-transform transform hover:scale-105">
      Download Full CV
    </a>
  </section>
</div>